<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.foodiary.food.mapper.FoodMapper">

    <select id="findByFoodCetegory" resultType="com.foodiary.food.model.FoodDto">
        SELECT * FROM TB_Food
        WHERE FOOD_CATEGORY = #{category}
    </select>

    <select id="findById" resultType="com.foodiary.food.model.FoodDto">
        SELECT * FROM TB_Food
        WHERE FOOD_ID = #{foodId}
    </select>

    <select id="findMemberFoodByCreateAt" resultType="Integer">
        SELECT MEMBER_FOOD_ID FROM TB_MEMBER_FOOD
        WHERE MEMBER_FOOD_CREATE <![CDATA[>=]]> #{start} AND MEMBER_FOOD_CREATE <![CDATA[<=]]> #{end} AND MEMBER_ID = #{memberId};
    </select>

    <insert id="saveMemberFood">
        INSERT INTO TB_MEMBER_FOOD (MEMBER_ID, FOOD_ID, MEMBER_FOOD_LIKE, MEMBER_FOOD_HATE, MEMBER_FOOD_CREATE)
        VALUES (#{memberId}, #{foodId}, 0, 0, now());
    </insert>

</mapper>







